---
import { getImage } from "astro:assets";
import H1 from "./H1.astro";
import BadgeItem from "./BadgeItem.astro";
import snowyMountainsBackgroundImage from "../assets/images/snowy-mountains-bg.jpg";
import wishlyLogo from "../assets/images/wishly-logo.png";
import hLogo from "../icons/h-logo.svg";
import certPortalLogo from "../assets/images/cert-portal-logo.svg";
import wineLotteryLogo from "../assets/images/wine-lottery-icon.svg";
import homelabIcon from "../assets/images/homelab-icon.svg";
import voiceboardLogo from "../assets/images/voiceboard-logo.svg";

const optimizedBackgroundImage = await getImage({
  src: snowyMountainsBackgroundImage,
});
const backgroundImageCss = `url(${optimizedBackgroundImage.src})`;
---

<section id="personal-projects" class="bg-image-section pb-20">
  <main class="m-auto max-w-3xl p-4 text-light">
    <H1 preText="My personal " gradientText="projects" />
    <div class="flex flex-wrap justify-evenly gap-7">
      <div class="flex flex-1 justify-center">
        <BadgeItem
          href="https://github.com/halvorot/halvorot.github.io"
          image={hLogo}
          imageAlt="Halvor Teigen logo"
          title="This website"
          badgeBackgroundClass="bg-dark"
        />
      </div>
      <div class="flex flex-1 justify-center">
        <BadgeItem
          href="https://github.com/halvorot/cert-portal"
          image={certPortalLogo}
          imageAlt="Cert Portal logo"
          title="CertPortal"
          badgeBackgroundClass="bg-dark"
        />
      </div>
      <div class="flex flex-1 justify-center">
        <BadgeItem
          href="https://github.com/halvorot/speech-to-whiteboard"
          image={voiceboardLogo}
          imageAlt="VoiceBoard logo"
          title="VoiceBoard - Speech to Whiteboard"
          badgeBackgroundClass="bg-dark"
        />
      </div>
      <div class="flex flex-1 justify-center">
        <BadgeItem
          href="https://github.com/halvorot/wishly-wishlist-app/tree/main"
          image={wishlyLogo}
          imageAlt="Wishly logo"
          title="Wishly - The Wishlist App"
          customBackgroundColor="#141414"
        />
      </div>
      <div class="flex flex-1 justify-center">
        <BadgeItem
          href="https://github.com/halvorot/wine-lottery-website"
          image={wineLotteryLogo}
          imageAlt="Wine Lottery logo"
          title="Wine Lottery Website"
          badgeBackgroundClass="bg-dark"
        />
      </div>
      <div class="flex flex-1 justify-center">
        <BadgeItem
          href="https://github.com/halvorot/home-lab"
          image={homelabIcon}
          imageAlt="Homelab logo"
          title="Homelab"
          badgeBackgroundClass="bg-dark"
        />
      </div>
    </div>
  </main>
</section>

<style define:vars={{ backgroundImageCss }}>
  .bg-image-section {
    position: relative;
  }

  .bg-image-section::before {
    content: "";
    position: absolute;
    z-index: -10;
    top: 0;
    width: 100%;
    height: 100%;
    background-image: var(--backgroundImageCss);
    background-size: cover; /* Adjust as needed */
    opacity: 0.15; /* Adjust the opacity as needed (0.0 to 1.0) */
  }
</style>
