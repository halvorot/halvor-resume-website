---
import { Image } from "astro:assets";
import { getImage } from "astro:assets";
import H1 from "./H1.astro";
import CapabilityLevels from "./CapabilityLevels.astro";
import techLightsBackgroundImage from "../assets/images/tech-lights-bg.jpg";
import CertificationsCarousel from "./CertificationsCarousel.astro";
import H2 from "./H2.astro";
import SecondaryButton from "./SecondaryButton.astro";

const optimizedBackgroundImage = await getImage({
  src: techLightsBackgroundImage,
});
const backgroundImageCss = `url(${optimizedBackgroundImage.src})`;
---

<section id="capabilities" class="bg-image-section">
  <main class="text-white m-auto max-w-3xl p-4">
    <H1 preText="My main " gradientText="capabilities" />
    <H2 text="knowledge level in my main capabilities" />
    <CapabilityLevels />
    <H2 text="Certifications" classes="mt-20" />
    <CertificationsCarousel />
  </main>
</section>

<style define:vars={{ backgroundImageCss }}>
  .bg-image-section {
    position: relative;
  }

  .bg-image-section::before {
    content: "";
    position: absolute;
    z-index: -10;
    top: 0;
    width: 100%;
    height: 100%;
    background-image: var(--backgroundImageCss);
    background-size: cover; /* Adjust as needed */
    opacity: 0.2; /* Adjust the opacity as needed (0.0 to 1.0) */
  }
</style>
